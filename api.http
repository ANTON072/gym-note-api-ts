@apiHost = http://localhost:3000
@emulatorHost = http://127.0.0.1:9099
@idToken = eyJhbGciOiJub25lIiwidHlwIjoiSldUIn0.eyJuYW1lIjoidGVzdCB1c2VyIiwicGljdHVyZSI6IiIsImVtYWlsIjoiYmRia3gyODZAZ21haWwuY29tIiwiZW1haWxfdmVyaWZpZWQiOmZhbHNlLCJhdXRoX3RpbWUiOjE3NjUxOTYxNjMsInVzZXJfaWQiOiJEa3k0ZXRDVTNBc01vejJxYVFncGZHdXZBOU5hIiwiZmlyZWJhc2UiOnsiaWRlbnRpdGllcyI6eyJlbWFpbCI6WyJiZGJreDI4NkBnbWFpbC5jb20iXX0sInNpZ25faW5fcHJvdmlkZXIiOiJwYXNzd29yZCJ9LCJpYXQiOjE3NjUxOTYxNjMsImV4cCI6MTc2NTE5OTc2MywiYXVkIjoiZ3ltLW5vdGUtYXBwIiwiaXNzIjoiaHR0cHM6Ly9zZWN1cmV0b2tlbi5nb29nbGUuY29tL2d5bS1ub3RlLWFwcCIsInN1YiI6IkRreTRldENVM0FzTW96MnFhUWdwZkd1dkE5TmEifQ.

###

# Firebase Auth Sign In with Email and Password
POST {{emulatorHost}}/identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=fake-api-key
content-type: application/json

{
  "email": "bdbkx286@gmail.com",
  "password": "password",
  "returnSecureToken": true
}

###

# GET User Data
GET {{apiHost}}/api/v1/user
Authorization: Bearer {{idToken}}

###

# GET Exercises
GET {{apiHost}}/api/v1/exercises
Authorization: Bearer {{idToken}}

###

# Search Exercises By Name
GET {{apiHost}}/api/v1/exercises?name=ベンチ
Authorization: Bearer {{idToken}}

###

# Search Exercises By Body Part
GET {{apiHost}}/api/v1/exercises?bodyPart=1
Authorization: Bearer {{idToken}}


###

# GET Exercise by ID
GET {{apiHost}}/api/v1/exercises/cmihds7ww0001srg93lx5vitn
Authorization: Bearer {{idToken}}

###

# POST Create Exercise
POST {{apiHost}}/api/v1/exercises
Authorization: Bearer {{idToken}}
content-type: application/json

{
  "name": "Push Up",
  "bodyPart": 0,
  "laterality": 0
}

###

# PUT Update Exercise
PUT {{apiHost}}/api/v1/exercises/cmihds7ww0001srg93lx5vitn
Authorization: Bearer {{idToken}}
content-type: application/json

{
  "name": "Modified Push Up",
  "bodyPart": 0,
  "laterality": 0
}

###

# Delete Exercise
DELETE {{apiHost}}/api/v1/exercises/cmihds7ww0001srg93lx5vitn
Authorization: Bearer {{idToken}}
content-type: application/json

###

# GET Workouts
GET {{apiHost}}/api/v1/workouts
Authorization: Bearer {{idToken}}

###

# GET Workouts with offset
GET {{apiHost}}/api/v1/workouts?offset=20
Authorization: Bearer {{idToken}}

###

# GET Workout by ID
GET {{apiHost}}/api/v1/workouts/cmix4ae880003sr6ww6agkxal
Authorization: Bearer {{idToken}}

###

# POST Create Workout (既存エクササイズを使用)
POST {{apiHost}}/api/v1/workouts
Authorization: Bearer {{idToken}}
content-type: application/json

{
  "performedStartAt": "2024-01-15T10:00:00Z",
  "performedEndAt": "2024-01-15T11:30:00Z",
  "place": "ジム",
  "note": "調子良かった",
  "workoutExercises": [
    {
      "exercise": { "id": "cmix4ae7s0001sr6wt0yreugy" },
      "orderIndex": 1,
      "workoutSets": [
        { "weight": 60, "reps": 10 },
        { "weight": 70, "reps": 8 },
        { "weight": 75, "reps": 6 }
      ]
    }
  ]
}

###

# POST Create Workout (新規エクササイズを作成)
POST {{apiHost}}/api/v1/workouts
Authorization: Bearer {{idToken}}
content-type: application/json

{
  "performedStartAt": "2024-01-16T09:00:00Z",
  "performedEndAt": null,
  "place": "自宅",
  "note": null,
  "workoutExercises": [
    {
      "exercise": { "name": "懸垂（ワイドグリップ）", "bodyPart": 1, "laterality": 0 },
      "orderIndex": 1,
      "workoutSets": [
        { "weight": null, "reps": 10 },
        { "weight": null, "reps": 8 }
      ]
    }
  ]
}

###

# PUT Update Workout (既存エクササイズを使用)
PUT {{apiHost}}/api/v1/workouts/cmix4ae880003sr6ww6agkxal
Authorization: Bearer {{idToken}}
content-type: application/json

{
  "performedStartAt": "2024-01-15T10:00:00Z",
  "performedEndAt": "2024-01-15T12:00:00Z",
  "place": "自宅ジム",
  "note": "メモを更新しました",
  "workoutExercises": [
    {
      "exercise": { "id": "cmix4ae7s0001sr6wt0yreugy" },
      "orderIndex": 1,
      "workoutSets": [
        { "weight": 65, "reps": 10 },
        { "weight": 75, "reps": 8 },
        { "weight": 80, "reps": 6 }
      ]
    }
  ]
}

###

# PUT Update Workout (新規エクササイズを作成して更新)
PUT {{apiHost}}/api/v1/workouts/cmix4ae880003sr6ww6agkxal
Authorization: Bearer {{idToken}}
content-type: application/json

{
  "performedStartAt": "2024-01-15T10:00:00Z",
  "performedEndAt": "2024-01-15T12:30:00Z",
  "place": "ジム",
  "note": "新しい種目を追加",
  "workoutExercises": [
    {
      "exercise": { "id": "cmix4ae7s0001sr6wt0yreugy" },
      "orderIndex": 1,
      "workoutSets": [
        { "weight": 60, "reps": 10 }
      ]
    },
    {
      "exercise": { "name": "インクラインダンベルプレス", "bodyPart": 1, "laterality": 0 },
      "orderIndex": 2,
      "workoutSets": [
        { "weight": 20, "reps": 12 },
        { "weight": 22, "reps": 10 }
      ]
    }
  ]
}
